<!DOCTYPE HTML>
<!--
	TXT by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>飞机大战小游戏设计</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">
		<div id="page-wrapper">

			<!-- Header -->
				<header id="header">
					<div class="logo container">
						<div>
							<h1><a href="index.html" id="logo">超简单</a></h1>
							<p>飞机大战</p>
						</div>
					</div>
				</header>

			<!-- Nav -->
				<nav id="nav">
					<ul>
						<li class="current"><a href="../index.html">Home</a></li>
						<li>
							<a href="#">Project</a>
							<ul>
								<li><a href="energy-conservation.html">节能减排竞赛</a></li>
								<li><a href="Epidemic prediction system.html">软件杯</a></li>
								<li>
									<a href="#">课程设计</a>
									<ul>
										<li><a href="Plane Wars.html">飞机大战</a></li>
										<li><a href="thermistor.html">热敏电阻传感器</a></li>
										<li><a href="TCP.html">TCP多线程简易聊天室</a></li>
										<li><a href="Iot awareness.html">物联网感知实习</a></li>
										<li><a href="database.html">数据库设计</a></li>
										<li><a href="Robert.html">智能小车自主驾驶</a></li>
										<li><a href="STM32-ZigBee.html">基于STM32和ZigBee的智能控锁系统</a></li>
									</ul>
								</li>
								<li>
									<a href="#">建模比赛</a>
									<ul>
										<li><a href="../modeling/NCSMCM.html">国赛</a></li>
										<li><a href="../modeling/ACSMCM.html">美赛</a></li>
										<li><a href="../modeling/Mathorcup.html">Mathorcup</a></li>
										<li><a href="../modeling/APMCM.html">亚太</a></li>
										<li><a href="../modeling/CC.html">认证杯</a></li>
										<li><a href="../modeling/ECC.html">华东杯</a></li>
										<li><a href="../modeling/WCMMC.html">华数杯</a></li>
										<li><a href="../modeling/ZQ.html">中青杯</a></li>
										<li><a href="../modeling/51.html">五一</a></li>
									</ul>
								</li>
							</ul>
						</li>
						<li>
							<a href="#">Study</a>
							<ul>
								<li>
									<a href="#">蓝桥杯</a>
									<ul>
										<li><a href="../lq/c.html">c/c++组</a></li>
										<li><a href="../lq/Embedded.html">嵌入式组</a></li>
									</ul>
								</li>
								<li>
									<a href="#">课程小结</a>
									<ul>
										<li><a href="../class/computer composition principle.html">计算机组成原理</a></li>
										<li><a href="../class/operating system.html">操作系统</a></li>
										<li><a href="../class/data structure.html">数据结构</a></li>
										<li><a href="../class/computer network.html">计算机网络</a></li>
										<li><a href="../class/database.html">数据库</a></li>
										<li><a href="../class/Machine Learning.html">机器学习</a></li>
									</ul>
								</li>
							</ul>
						</li>
						<li><a href="#">科研成果</a></li>
					</ul>
				</nav>

			<!-- Main -->
				<section id="main">
					<div class="container">
						<div class="row">
							<div class="col-12">
								<div class="content">

									<!-- Content -->

										<article class="box page-content">

											<header>
												<h2>飞机大战小游戏设计</h2>
												<ul class="meta">
													<li class="icon fa-clock">2019.6.27</li>
												</ul>
											</header>
											<section>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;为了使游戏场景更加连贯，游戏节奏更加合理，可以通过背景滚动来提高游戏的场景效应，首先需要将找好的背景图使用PS使上下无缝衔接，在输出图像时，根据图片大小绘制两张背景图。代码实现
												此项目是利用Qt工具，使用C/C++语言，进行的飞机大战小游戏综合设计。
												</dt>
												</dt>
											</section>

											<section>
												<h3>1.相关技术介绍</h3>
												<dl>
												<h3>1）背景滚动技术</h3>
												<dt>
												&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;为了使游戏场景更加连贯，游戏节奏更加合理，可以通过背景滚动来提高游戏的场景效应，首先需要将找好的背景图使用PS使上下无缝衔接，在输出图像时，根据图片大小绘制两张背景图。代码实现
												</dt>
												<dt><pre>
	if(State)
   		back_spe= (back_spe+1)%this->height();
		painter.drawPixmap(0,back_spe,this->width(),this->height(),back);
 		painter.drawPixmap(0,back_spe-this->height(),this->width(),this->height(),back);	
												</pre></dt>
												<h3>2）内存释放</h3>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;由于敌机，敌机子弹以及增益buff的不断产生，很容易出现卡顿甚至导致程序的崩溃，因此，及时释放程序的内存极其重要。判断出界的敌机，子弹和buff，程序中用到的链表，刷子等都应及时删除。
													例如，游戏窗口的右键菜单功能，菜单艾丹擦分配的空间选择完应立刻释放，代码实现：
												</dt>
												<dt><pre>
	QList<QAction*> list = pMenu->actions();
	foreach (QAction* pAction, list) delete pAction  
	delete pMenu;												
												</pre></dt>
												<h3>3）碰撞检测 </h3>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;首先需要获得当前对象的矩形区域，然后通过intersects函数来判断战机与敌机，子弹与战机，我方子弹与敌机，战机与增益等是否碰撞
												</dt>
												<h3>4）生成爆炸效果</h3>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;爆炸是利用迭代器，通过多张爆炸图片来实现的。
												</dt>
												<dt><pre>
	for(ite1 = explode_l.begin();ite1!=explode_l.end();++ite1)
	{
		if((*ite1)->current_pos < (*ite1)->total)
		{
			(*ite1)->current_pos++;
			dir = (*ite1)->getDir();
			painter.drawPixmap((*ite1)->pos,dir);
		else {
			explode_l.erase(ite1);
			ite1--;
		}
	}												
												</pre></dt>
												<h3>5）血量条效果</h3>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在drawprogress类中，用QPainter函数，战机设置HP边框，战机与敌机血条填充颜色不同，其宽度与HP有关，然后，在gamewindow类调用函数进行绘制
												</dt>
												<dt><pre>
	painter.drawRect(pos.x()+1,pos.y()+1,(width-3)*HP,h)
	Plane_p->drawHP(this,QPoint(ui->label_H->x()-15,50),1.0*Plane_p->getHP()/player_HP,95,1);
												</pre></dt>
												<h3>6）定时器</h3>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;利用QTime这个类，首先需要创建对象，然后连接signal和slot函数，最后start（）
												</dt>
												<dt><pre>
	timer = new QTimer(this);
	connect(timer,SIGNAL(timeout()),this,SLOT(Refresh()));
	timer->start(60);												
												</pre></dt>
												<h3>7）弹窗效果</h3>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;利用信息提示框QMessageBox的customMsgBox自定义提示框设置弹窗，添加按钮，实现游戏弹窗功能
												</dt>
												</dl>
											</section>

											<section>
												<h3>2.项目设计</h3>
												<dl>
												<h3>1.功能设计</h3>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如图所示，是该系统的用例图
												</dt>
												<dt align="center"><img src="images/PW-1.jpg"></dt>
												<h3>2.静态结构设计</h3>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如图所示，是该系统的类图
												</dt>
												<dt align="center"><img src="images/PW-2.jpg"></dt>
												<h3>3.类的详细设计</h3>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如图所示，为核心类gamewindow类的算法流程图
												</dt>
												<dt align="center"><img src="images/PW-3.png"></dt>
												<h3>4.界面设计</h3>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;游戏开始前有一个动图画面进入欢迎界面
												</dt>
												<dt align="center"><img src="images/PW-4.png"></dt>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;游戏初始界面
												</dt>
												<dt align="center"><img src="images/PW-5.png"></dt>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;游戏帮助界面
												</dt>
												<dt align="center"><img src="images/PW-6.png"></dt>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;游戏界面(普通飞机版)
												</dt>
												<dt align="center"><img src="images/PW-7.png"></dt>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;游戏界面（导弹飞机版）
												</dt>
												<dt align="center"><img src="images/PW-8.png"></dt>
												<dt>
													&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;游戏的主要设计风格是以宏大宇宙为背景的硬核风格，开头的卡通动图与欢迎界面的太空背景形成强烈的视觉冲击
												</dt>
												</dl>
											</section>
										</article>

								</div>
							</div>
							<div class="col-12">

								<!-- Features -->
									<section class="box features">
										<h2 class="major"><span>Thank you for your reading</span></h2>
									</section>

							</div>
						</div>
					</div>
				</section>

			<!-- Footer -->
				<footer id="footer">
					<div class="container">
						<div class="row gtr-200">
							<div class="col-12">
								<!-- Contact -->
									<section>
										<h2 class="major"><span>More</span></h2>
										<ul class="contact">
											<li><a href="https://blog.csdn.net/weixin_43476037"><img src="images/csdn.jpg" alt=""><span class="label"></span></a></li>
										</ul>
									</section>

							</div>
						</div>

						<!-- Copyright -->
							<div id="copyright">
								<ul class="menu">
									<li>&copy; Untitled. All rights reserved</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
								</ul>
							</div>

					</div>
				</footer>

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>